<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [CSRF Anti-forgery](#csrf-anti-forgery)
  - [Implementation](#implementation)
  - [Caveates](#caveates)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# CSRF Anti-forgery

We support CSRF (Cross-Site Request Forgery) protection by sending a token, generated by the Server,
to the Client, who then includes this same token in all POST and PUT called to that same Server.


## Implementation

We take advantage of [ring.middleware.anti-forgery](https://github.com/ring-clojure/ring-anti-forgery)
and a little bit of Javascript interop in the Client mixed with some [Selmer](https://github.com/yogthos/Selmer)
on the Server.

## Caveates

Unfortunately, Swagger-UI cannot support CSRF tokens, so we need to have some sort of toggle to switch
between "unprotected mode" during development, and "protected mode" when running more like "production."

