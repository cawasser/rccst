<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>bh.rccst.components.database.users documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bh</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rccst</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></div></li><li class="depth-4 branch"><a href="bh.rccst.api.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.api.common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>common</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.api.login.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>login</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.api.lookup.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lookup</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.api.subscribe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>subscribe</span></div></a></li><li class="depth-4"><a href="bh.rccst.api.version.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>components</span></div></div></li><li class="depth-4"><a href="bh.rccst.components.database.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>database</span></div></a></li><li class="depth-5 branch"><a href="bh.rccst.components.database.create-and-init.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>create-and-init</span></div></a></li><li class="depth-5 current"><a href="bh.rccst.components.database.users.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>users</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.components.pub-sub.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>pub-sub</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.components.repl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>repl</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.components.system.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>system</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.components.webserver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>webserver</span></div></a></li><li class="depth-4"><a href="bh.rccst.components.websocket.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>websocket</span></div></a></li><li class="depth-5"><a href="bh.rccst.components.websocket.handler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-3 branch"><a href="bh.rccst.core.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data-source</span></div></div></li><li class="depth-4"><a href="bh.rccst.data-source.lookup.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lookup</span></div></a></li><li class="depth-5"><a href="bh.rccst.data-source.lookup.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-4"><a href="bh.rccst.data-source.version.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>version</span></div></a></li><li class="depth-5"><a href="bh.rccst.data-source.version.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li><li class="depth-3 branch"><a href="bh.rccst.defaults.html"><div class="inner"><span class="tree" style="top: -145px;"><span class="top" style="height: 154px;"></span><span class="bottom"></span></span><span>defaults</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-4 branch"><a href="bh.rccst.routes.csrf.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>csrf</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.routes.dev-mode.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dev-mode</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.routes.prod-mode.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>prod-mode</span></div></a></li><li class="depth-4 branch"><a href="bh.rccst.routes.render.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>render</span></div></a></li><li class="depth-4"><a href="bh.rccst.routes.routes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></a></li><li class="depth-3"><a href="bh.rccst.version.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>version</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-create-new-user.21"><div class="inner"><span>create-new-user!</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-create-users-table"><div class="inner"><span>create-users-table</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-create-users-table.21"><div class="inner"><span>create-users-table!</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-delete-user.21"><div class="inner"><span>delete-user!</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-drop-users-table"><div class="inner"><span>drop-users-table</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-drop-users-table.21"><div class="inner"><span>drop-users-table!</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-get-user"><div class="inner"><span>get-user</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-get-users"><div class="inner"><span>get-users</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-init-users-table"><div class="inner"><span>init-users-table</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-login"><div class="inner"><span>login</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-LoginRequest"><div class="inner"><span>LoginRequest</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-LoginResponse"><div class="inner"><span>LoginResponse</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-register"><div class="inner"><span>register</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-RegisterResponse"><div class="inner"><span>RegisterResponse</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-User"><div class="inner"><span>User</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-user-registered.3F"><div class="inner"><span>user-registered?</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-Users"><div class="inner"><span>Users</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-users"><div class="inner"><span>users</span></div></a></li><li class="depth-1"><a href="bh.rccst.components.database.users.html#var-verify-credentials"><div class="inner"><span>verify-credentials</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">bh.rccst.components.database.users</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-create-new-user.21"><h3>create-new-user!</h3><div class="usage"><code>(create-new-user! db)</code><code>(create-new-user! db params)</code><code>(create-new-user! db params options &amp; command-options)</code></div><div class="doc"><div class="markdown"><p>Creates a new user in the database</p>
</div></div></div><div class="public anchor" id="var-create-users-table"><h3>create-users-table</h3><div class="usage"><code>(create-users-table db)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-create-users-table.21"><h3>create-users-table!</h3><div class="usage"><code>(create-users-table! db)</code><code>(create-users-table! db params)</code><code>(create-users-table! db params options &amp; command-options)</code></div><div class="doc"><div class="markdown"><p>Create users table</p>
</div></div></div><div class="public anchor" id="var-delete-user.21"><h3>delete-user!</h3><div class="usage"><code>(delete-user! db)</code><code>(delete-user! db params)</code><code>(delete-user! db params options &amp; command-options)</code></div><div class="doc"><div class="markdown"><p>deletes a user record given the id</p>
</div></div></div><div class="public anchor" id="var-drop-users-table"><h3>drop-users-table</h3><div class="usage"><code>(drop-users-table db)</code></div><div class="doc"><div class="markdown"><p>drop the Users table, regardless of whether it is empty or not</p>
<ul>
<li>bh.rccst.components.database - the database Component</li>
</ul>
<blockquote>
<p>See also:</p>
<p><a href="">HugSQL</a></p>
</blockquote>
</div></div></div><div class="public anchor" id="var-drop-users-table.21"><h3>drop-users-table!</h3><div class="usage"><code>(drop-users-table! db)</code><code>(drop-users-table! db params)</code><code>(drop-users-table! db params options &amp; command-options)</code></div><div class="doc"><div class="markdown"><p>Drop users table if exists</p>
</div></div></div><div class="public anchor" id="var-get-user"><h3>get-user</h3><div class="usage"><code>(get-user db)</code><code>(get-user db params)</code><code>(get-user db params options &amp; command-options)</code></div><div class="doc"><div class="markdown"><p>retrieves a user record given the id</p>
</div></div></div><div class="public anchor" id="var-get-users"><h3>get-users</h3><div class="usage"><code>(get-users db)</code><code>(get-users db params)</code><code>(get-users db params options &amp; command-options)</code></div><div class="doc"><div class="markdown"><p>retrieves a user record given the id</p>
</div></div></div><div class="public anchor" id="var-init-users-table"><h3>init-users-table</h3><div class="usage"><code>(init-users-table _)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-login"><h3>login</h3><div class="usage"><code>(login database user-id password)</code></div><div class="doc"><div class="markdown"><p>check to see if the user-id/password combination is in the User table.</p>
<ul>
<li>database - (Component, Database) the database Component</li>
<li>user-id - (string) user ID</li>
<li>password - (string) the password for the user</li>
</ul>
<blockquote>
<p>See also:</p>
<p><a href="https://github.com/stuartsierra/component">Component</a> <a href="https://www.hugsql.org">HugSQL</a></p>
</blockquote>
</div></div></div><div class="public anchor" id="var-LoginRequest"><h3>LoginRequest</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>data required to log into the system</p>
</div></div></div><div class="public anchor" id="var-LoginResponse"><h3>LoginResponse</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>data returned by the login process.</p>
<ul>
<li>:logged-in - <code>true</code> if the login was successful, <code>false</code> if not</li>
<li>:uuid - if the login was successful, this key will be present and contain the uuid associated with the user-id</li>
</ul>
</div></div></div><div class="public anchor" id="var-register"><h3>register</h3><div class="usage"><code>(register database user-id password)</code></div><div class="doc"><div class="markdown"><p>add a new user to the Users table. Check to see if the user-id already exists</p>
<ul>
<li>database - (Component, Database) the database Component</li>
<li>user-id - (string) user ID, uniqueness will be enforced at the database</li>
<li>password - (string) the password for the user</li>
</ul>
<blockquote>
<p>See also:</p>
<p><a href="https://github.com/stuartsierra/component">Component</a> <a href="https://www.hugsql.org">HugSQL</a></p>
</blockquote>
</div></div></div><div class="public anchor" id="var-RegisterResponse"><h3>RegisterResponse</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>data returned when checking to see if the user is already registered.</p>
<ul>
<li>:registered - <code>true</code> if the user is registered , <code>false</code> if not</li>
<li>:uuid - if the login was successful, this key will be present and contain the uuid associated with the user-id</li>
</ul>
</div></div></div><div class="public anchor" id="var-User"><h3>User</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>string which uniquely identified the user in the system</p>
<ul>
<li>:user-id</li>
</ul>
</div></div></div><div class="public anchor" id="var-user-registered.3F"><h3>user-registered?</h3><div class="usage"><code>(user-registered? database user-id)</code></div><div class="doc"><div class="markdown"><p>check to see if the user-id is already in the User table</p>
<ul>
<li>database - (Component, Database) the database Component</li>
<li>user-id - (string) user ID</li>
</ul>
<blockquote>
<p>See also:</p>
<p><a href="https://github.com/stuartsierra/component">Component</a> <a href="https://www.hugsql.org">HugSQL</a></p>
</blockquote>
</div></div></div><div class="public anchor" id="var-Users"><h3>Users</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>string which uniquely identified the user in the system</p>
<ul>
<li>:users - vector of user IDs</li>
</ul>
</div></div></div><div class="public anchor" id="var-users"><h3>users</h3><div class="usage"><code>(users database)</code></div><div class="doc"><div class="markdown"><p>return al the user in the User table.</p>
<ul>
<li>database - (Component, Database) the database Component</li>
</ul>
<blockquote>
<p>See also:</p>
<p><a href="https://github.com/stuartsierra/component">Component</a> <a href="https://www.hugsql.org">HugSQL</a></p>
</blockquote>
</div></div></div><div class="public anchor" id="var-verify-credentials"><h3>verify-credentials</h3><div class="usage"><code>(verify-credentials db)</code><code>(verify-credentials db params)</code><code>(verify-credentials db params options &amp; command-options)</code></div><div class="doc"><div class="markdown"><p>Take in username and password and verify they are in the database</p>
</div></div></div></div></body></html>